## 共通設定
- 日本語で回答してください（これが最も大切です）
- 簡潔で分かりやすい説明を心がけてください
- ベストプラクティスの具体例を提示してください
- 学習リソースの提案を積極的に行ってください
- スケーラビリティとパフォーマンスを重点的にチェックしてください

## コードレビュー専用指示
### レビューの基本方針
以下のプレフィックスを使用してレビューコメントを分類してください：
- `[must]` - 必須修正項目（セキュリティ、バグ、重大な設計問題）
- `[recommend]` - 推奨修正項目（パフォーマンス、可読性の大幅改善）
- `[nits]` - 軽微な指摘（コードスタイル、タイポ等）

### 重点チェック項目
1. **セキュリティ**: SQLインジェクション、XSS、認証・認可の不備
2. **パフォーマンス**: N+1問題、不要なループ、メモリリーク
3. **可読性**: 変数名、関数名、コメントの適切性
4. **保守性**: DRY原則、SOLID原則の遵守
5. **テスト**: テストケースの網羅性、エッジケースの考慮
6. **言語固有のベストプラクティス**: 各言語の推奨パターンに準拠しているか、非推奨・廃止予定のAPIや構文を使用していないかチェック

### Next.js 固有ルール
- Next.jsの最新機能とベストプラクティスの確認
- App RouterとPages Routerの適切な使い分け
- 静的生成（SSG）と動的生成（SSR）とハイブリッド手法（ISR）等の最適な選択
- Core Web Vitalsを考慮したパフォーマンス最適化
- SEO対策の実装確認
- セキュリティヘッダーの設定確認
- Bundle sizeとCode Splittingの最適化
- Server ComponentsとClient Componentsの適切な使い分け
- 環境変数の安全な取り扱い（NEXT_PUBLIC_プレフィックスの適切な使用）
Next.jsの規約やベストプラクティスに沿っていない箇所があれば、最新のドキュメントに基づいた修正案を提示してください。

### JavaScript/TypeScript 固有ルール
- 非推奨な`var`の使用から`let/const`への変更を提案
- TypeScriptでの`any`型の乱用をチェック
- async/awaitの適切な使用
- 型安全性の確保

## GitHub Copilot用コミットメッセージ生成指示（Conventional Commits準拠）

GitHub Copilotがコミットメッセージを生成する際は、以下のルールに従ってください。
これは Conventional Commits 1.0.0 に準拠しています。

### メッセージ構造

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

### type（必須）

以下のいずれかのタイプを使用してください：

- feat: 新機能の追加
- fix: バグ修正
- docs: ドキュメントのみの変更
- style: フォーマット修正（意味のある変更なし）
- refactor: リファクタリング（機能追加・修正なし）
- perf: パフォーマンス向上
- test: テスト追加・修正
- build: ビルド関連の変更（依存関係、ツールなど）
- ci: CI関連の変更（GitHub Actionsなど）
- chore: その他の雑務（ビルドやドキュメント生成など）
- revert: 以前のコミットの取り消し

### scope（任意）

変更対象のモジュールや機能を括弧で囲んで指定してください。例：

```
feat(parser): 配列のサポートを追加
```

### description（必須）

変更内容を簡潔に記述してください。文末に句点（ピリオド）は不要です。

**descriptionは日本語で記述してください。**
例：`fix(renderer): レンダリング結果が黒くなる問題を修正`

### BREAKING CHANGE（任意）

破壊的変更がある場合は、以下のいずれかの方法で明示してください：

- `type!:` の形式で `!` を付ける
  例：`feat!: 非推奨APIを削除`
- フッターに `BREAKING CHANGE:` を記述
  例：
  ```
  BREAKING CHANGE: null値を受け付けなくなりました
  ```
